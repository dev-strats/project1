{% extends "base.html" %}

{% block head %}
<script type="text/javascript">
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(function() { drawChart(10) });
      
    function drawChart() {
        var jsonData = $.ajax({
            url: "/future_data/" + $('#fromDate').val() + "/" + $('#toDate').val(),
            dataType: "json",
            async: false
        }).responseText;

        // Create our data table out of JSON data loaded from server.
        var data = new google.visualization.DataTable(jsonData);
        var options = {
          //title: 'Rolling Future Price ($)',
          curveType: 'function',
          // legend: { position: 'bottom' }
        };
        
        chart = new google.visualization.LineChart(document.getElementById('curve_chart'));
        chart.draw(data, options);
    }
</script>
{% endblock %}

{% block content %}
<div class="w3-row">
    <div class="w3-container w3-third">
        <div class="w3-row">
            <div class="w3-container w3-quarter">
                Market:
            </div>
            <div class="w3-container w3-threequarter">
                <input type="text" id="market" value="CME/ES" onchange="drawChart()">
            </div>
        </div>
        <div class="w3-row">
            <div class="w3-container w3-quarter">
                From:
            </div>
            <div class="w3-container w3-threequarter">
                <input type="text" id="fromDate" value="2018-08-01" onchange="drawChart()">
            </div>
        </div>
        <div class="w3-row">
            <div class="w3-container w3-quarter">
                To:
            </div>
            <div class="w3-container w3-threequarter">
                <input type="text" id="toDate" value="2018-08-31" onchange="drawChart()">
            </div>
        </div>
    </div>

    <div class="w3-container w3-twothird">
        <div class="w3-row">
            <div class="w3-container w3-half">
                <div class="w3-container w3-quarter">
                    Param 1:
                </div>
                <div class="w3-container w3-threequarter">
                    <input type="text" id="Param1" value="aaa">
                </div>
            </div>
            <div class="w3-container w3-half">
                <div class="w3-container w3-quarter">
                    Param 2:
                </div>
                <div class="w3-container w3-threequarter">
                    <input type="text" id="Param2" value="aaa">
                </div>
            </div>
        </div>
        <div class="w3-row">
            <div class="w3-container w3-half">
                <div class="w3-container w3-quarter">
                    Param 3:
                </div>
                <div class="w3-container w3-threequarter">
                    <input type="text" id="Param3" value="aaa">
                </div>
            </div>
            <div class="w3-container w3-half">
                <div class="w3-container w3-quarter">
                    Param 4:
                </div>
                <div class="w3-container w3-threequarter">
                    <input type="text" id="Param4" value="aaa">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="w3-row" style="margin-top:20px">
    <div class="w3-container w3-twothird">
        Rolling Future Price ($)
        <div id="curve_chart"></div>
    </div>
    <div class="w3-container w3-third">
        Statistics Table
        <div class="w3-row">
            <div class="w3-container w3-third">
                Alpha
            </div>
            <div class="w3-container w3-twothird">
                0.1
           </div>
        </div>
        <div class="w3-row">
            <div class="w3-container w3-third">
               Beta 
            </div>
            <div class="w3-container w3-twothird">
                0.2
           </div>
        </div>
    </div>
</div>

{% endblock %}
